<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoFinds - Sustainable Marketplace</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Navigation -->
    <nav id="navigation" class="navigation" style="display: none;">
        <div class="nav-container">
            <div class="nav-content">
                <!-- Logo -->
                <div class="logo">
                    <div class="logo-icon">
                        <svg class="leaf-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/>
                            <path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/>
                        </svg>
                    </div>
                    <span class="logo-text">EcoFinds</span>
                </div>

                <!-- Navigation Items -->
                <div class="nav-items">
                    <button class="nav-button" data-page="home">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/>
                            <path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/>
                        </svg>
                        Home
                    </button>
                    <button class="nav-button" data-page="add-product">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14"/>
                            <path d="M12 5v14"/>
                        </svg>
                        Sell
                    </button>
                    <button class="nav-button" data-page="my-listings">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="m7.5 4.27 9 5.15"/>
                            <path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"/>
                            <path d="m3.3 7 8.7 5 8.7-5"/>
                            <path d="M12 22V12"/>
                        </svg>
                        My Items
                    </button>
                    <button class="nav-button" data-page="cart">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="m9 12 2 2 4-4"/>
                            <path d="M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-19.9 0c-.055.549.398.998.95.998z"/>
                            <path d="M8 21a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/>
                            <path d="M20 21a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/>
                        </svg>
                        Cart
                        <span id="cart-badge" class="cart-badge" style="display: none;">0</span>
                    </button>
                    <button class="nav-button" data-page="purchases">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                            <path d="M3 3v5h5"/>
                            <path d="M12 7v5l4 2"/>
                        </svg>
                        Purchases
                    </button>
                    
                    <!-- Account Dropdown -->
                    <div class="account-dropdown">
                        <button class="nav-button account-button">
                            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                <circle cx="12" cy="7" r="4"/>
                            </svg>
                            Account
                        </button>
                        <div class="dropdown-menu">
                            <button class="dropdown-item logout-btn">
                                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                                    <polyline points="16,17 21,12 16,7"/>
                                    <line x1="21" y1="12" x2="9" y2="12"/>
                                </svg>
                                Logout
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Login Page -->
        <div id="login-page" class="page active">
            <div class="login-container">
                <div class="login-card">
                    <div class="login-header">
                        <div class="login-logo">
                            <div class="logo-icon">
                                <svg class="leaf-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/>
                                    <path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/>
                                </svg>
                            </div>
                            <span class="login-logo-text">EcoFinds</span>
                        </div>
                        <p class="login-subtitle" id="login-subtitle">Your sustainable marketplace</p>
                    </div>
                    
                    <!-- Credentials Step -->
                    <div id="credentials-step">
                        <!-- Auth Mode Tabs -->
                        <div class="auth-tabs">
                            <button type="button" class="auth-tab active" data-mode="login">Sign In</button>
                            <button type="button" class="auth-tab" data-mode="signup">Sign Up</button>
                        </div>
                        
                        <!-- Login Form -->
                        <form id="login-form" class="auth-form active">
                            <div class="form-group">
                                <label for="login-email">Email</label>
                                <input type="email" id="login-email" name="email" placeholder="Enter your email" required>
                            </div>
                            <div class="form-group">
                                <label for="login-password">Password</label>
                                <input type="password" id="login-password" name="password" placeholder="Enter your password" required>
                            </div>
                            <button type="submit" class="login-button">Continue with OTP</button>
                        </form>
                        
                        <!-- Signup Form -->
                        <form id="signup-form" class="auth-form">
                            <div class="form-group">
                                <label for="signup-name">Full Name</label>
                                <input type="text" id="signup-name" name="name" placeholder="Your full name" required>
                            </div>
                            <div class="form-group">
                                <label for="signup-email">Email</label>
                                <input type="email" id="signup-email" name="email" placeholder="Enter your email" required>
                            </div>
                            <div class="form-group">
                                <label for="signup-password">Password</label>
                                <input type="password" id="signup-password" name="password" placeholder="Create a password" required>
                            </div>
                            <button type="submit" class="login-button">Create Account with OTP</button>
                        </form>
                        
                        <div class="login-footer">
                            <p class="disclaimer">By continuing, you agree to our eco-friendly community guidelines</p>
                        </div>
                    </div>
                    
                    <!-- OTP Verification Step -->
                    <div id="otp-step" style="display: none;">
                        <div class="otp-header">
                            <div class="shield-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/>
                                    <path d="m9 12 2 2 4-4"/>
                                </svg>
                            </div>
                            <h3>Verify Your Email</h3>
                            <p>We've sent a 6-digit verification code to <span id="otp-email"></span></p>
                        </div>
                        
                        <form id="otp-form" class="otp-form">
                            <div class="form-group">
                                <label for="otp-input">Enter Verification Code</label>
                                <input type="text" id="otp-input" maxlength="6" pattern="[0-9]{6}" placeholder="000000" required>
                                <p class="input-hint">Please enter the 6-digit code sent to your email</p>
                            </div>
                            
                            <!-- Security Notice -->
                            <div class="security-notice">
                                <div class="security-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/>
                                    </svg>
                                </div>
                                <div class="security-text">
                                    <p class="security-title">Secure Authentication</p>
                                    <p class="security-description">This OTP expires in 10 minutes for your security. Never share this code with anyone.</p>
                                </div>
                            </div>
                            
                            <button type="submit" class="login-button" id="verify-otp-btn">Verify & Sign In</button>
                        </form>
                        
                        <div class="otp-actions">
                            <button type="button" class="link-button" id="resend-otp-btn" onclick="handleResendOtp()">Resend OTP</button>
                            <button type="button" class="link-button back-button" onclick="handleBackToCredentials()">
                                <svg class="back-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="m15 18-6-6 6-6"/>
                                </svg>
                                Back to Sign In
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Home Page -->
        <div id="home-page" class="page">
            <div class="container">
                <div class="home-header">
                    <h1>Discover Sustainable Treasures</h1>
                    <p>Find pre-loved items and reduce your environmental impact</p>
                </div>

                <!-- Category Filter -->
                <div class="category-filter">
                    <button class="category-pill active" data-category="all">All Items</button>
                    <button class="category-pill" data-category="Electronics">Electronics</button>
                    <button class="category-pill" data-category="Clothing">Clothing</button>
                    <button class="category-pill" data-category="Home">Home & Garden</button>
                    <button class="category-pill" data-category="Books">Books</button>
                    <button class="category-pill" data-category="Sports">Sports</button>
                </div>

                <!-- Products Grid -->
                <div id="products-grid" class="products-grid">
                    <!-- Products will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Add Product Page -->
        <div id="add-product-page" class="page">
            <div class="container">
                <div class="page-header">
                    <h1>List Your Item</h1>
                    <p>Give your item a new life and help the environment</p>
                </div>

                <form id="add-product-form" class="add-product-form">
                    <div class="form-group">
                        <label for="product-title">Title</label>
                        <input type="text" id="product-title" placeholder="What are you selling?" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="product-price">Price ($)</label>
                        <input type="number" id="product-price" placeholder="0.00" step="0.01" min="0" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="product-category">Category</label>
                        <select id="product-category" required>
                            <option value="">Select a category</option>
                            <option value="Electronics">Electronics</option>
                            <option value="Clothing">Clothing</option>
                            <option value="Home">Home & Garden</option>
                            <option value="Books">Books</option>
                            <option value="Sports">Sports</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="product-condition">Condition</label>
                        <select id="product-condition" required>
                            <option value="">Select condition</option>
                            <option value="Like New">Like New</option>
                            <option value="Very Good">Very Good</option>
                            <option value="Good">Good</option>
                            <option value="Fair">Fair</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="product-description">Description</label>
                        <textarea id="product-description" rows="4" placeholder="Describe your item..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="product-image">Upload Image</label>
                        <input type="file" id="product-image" accept="image/*">
                        <p class="input-hint">Choose a clear photo of your item (JPG, PNG)</p>
                    </div>
                    <button type="submit" class="submit-button">List Item</button>
                </form>
            </div>
        </div>

        <!-- My Listings Page -->
        <div id="my-listings-page" class="page">
            <div class="container">
                <div class="page-header">
                    <h1>My Listings</h1>
                    <button class="add-button" data-page="add-product">+ Add New Item</button>
                </div>
                <div id="my-listings-grid" class="products-grid">
                    <!-- User's listings will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Cart Page -->
        <div id="cart-page" class="page">
            <div class="container">
                <div class="page-header">
                    <h1>Shopping Cart</h1>
                </div>
                <div id="cart-content">
                    <!-- Cart items will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Purchases Page -->
        <div id="purchases-page" class="page">
            <div class="container">
                <div class="page-header">
                    <h1>Purchase History</h1>
                    <div class="eco-stats">
                        <div class="stat-card">
                            <h3>COâ‚‚ Saved</h3>
                            <p class="stat-value">24.5 kg</p>
                        </div>
                        <div class="stat-card">
                            <h3>Items Rescued</h3>
                            <p class="stat-value">12</p>
                        </div>
                    </div>
                </div>
                <div id="purchases-content">
                    <!-- Purchase history will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Product Detail Modal -->
        <div id="product-detail-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <button class="close-button">&times;</button>
                </div>
                <div id="product-detail-content">
                    <!-- Product details will be loaded here -->
                </div>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
</body>
</html>